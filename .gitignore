# Deny everything by default
*

# Explicitly deny test artifacts and state files
*.tfstate
*.tfstate.backup
*.tfplan
*.zip
tfsec

# Allow Checkov configuration file
!.checkov.yaml

# Allow specific files explicitly (no wildcards or shell expansion)

# Root level
!.gitignore
!LICENSE
!README.md

# Root Terraform files
!main.tf
!variables.tf
!outputs.tf
!versions.tf
!terraform.tfvars.example

# GitHub workflows
!.github
!.github/workflows
!.github/workflows/ci.yml
!.github/workflows/security-audit.yml
!.github/workflows/integration-tests.yml
!.github/workflows/terratest.yml

# Examples - basic
!examples
!examples/basic
!examples/basic/main.tf
!examples/basic/outputs.tf
!examples/basic/variables.tf
!examples/basic/terraform.tfvars.example

# Examples - with-ai
!examples/with-ai
!examples/with-ai/main.tf
!examples/with-ai/outputs.tf
!examples/with-ai/variables.tf
!examples/with-ai/terraform.tfvars.example

# Examples - with-security
!examples/with-security
!examples/with-security/main.tf
!examples/with-security/variables.tf
!examples/with-security/README.md

# Modules - chat/telegram
!modules
!modules/chat
!modules/chat/telegram
!modules/chat/telegram/bot.tf
!modules/chat/telegram/iam.tf
!modules/chat/telegram/outputs.tf
!modules/chat/telegram/variables.tf
!modules/chat/telegram/security.tf
!modules/chat/telegram/policies
!modules/chat/telegram/policies/assume-role-policy.json
!modules/chat/telegram/policies/lambda-policy.json.tpl

# Modules - cicd/github
!modules/cicd
!modules/cicd/github
!modules/cicd/github/iam.tf
!modules/cicd/github/iam-policies.tf
!modules/cicd/github/iam-terraform-permissions.tf
!modules/cicd/github/oidc.tf
!modules/cicd/github/outputs.tf
!modules/cicd/github/variables.tf

# Modules - core/secrets
!modules/core
!modules/core/secrets
!modules/core/secrets/main.tf
!modules/core/secrets/outputs.tf
!modules/core/secrets/variables.tf

# Modules - core/webhook-handler
!modules/core/webhook-handler
!modules/core/webhook-handler/api-gateway.tf
!modules/core/webhook-handler/iam.tf
!modules/core/webhook-handler/lambda.tf
!modules/core/webhook-handler/outputs.tf
!modules/core/webhook-handler/variables.tf
!modules/core/webhook-handler/versions.tf
!modules/core/webhook-handler/security.tf
!modules/core/webhook-handler/policies
!modules/core/webhook-handler/policies/assume-role-policy.json
!modules/core/webhook-handler/policies/lambda-policy.json.tpl

# Modules - core/ai-output-processor
!modules/core/ai-output-processor
!modules/core/ai-output-processor/api-gateway.tf
!modules/core/ai-output-processor/iam.tf
!modules/core/ai-output-processor/outputs.tf
!modules/core/ai-output-processor/processor.tf
!modules/core/ai-output-processor/variables.tf
!modules/core/ai-output-processor/security.tf
!modules/core/ai-output-processor/policies
!modules/core/ai-output-processor/policies/assume-role-policy.json
!modules/core/ai-output-processor/policies/lambda-policy.json.tpl

# Modules - core/security
!modules/core/security
!modules/core/security/main.tf
!modules/core/security/variables.tf
!modules/core/security/outputs.tf
# Modules - core/monitoring
!modules/core/monitoring
!modules/core/monitoring/main.tf
!modules/core/monitoring/variables.tf
!modules/core/monitoring/outputs.tf
!modules/core/monitoring/dashboard.tf
!modules/core/monitoring/README.md

