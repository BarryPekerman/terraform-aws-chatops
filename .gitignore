# Deny everything by default
*

# Allow specific files explicitly (no wildcards or shell expansion)

# Root level
!.gitignore
!LICENSE
!README.md

# GitHub workflows
!.github
!.github/workflows
!.github/workflows/ci.yml
!.github/workflows/security-audit.yml
!.github/workflows/terraform-plan.yml

# Target module - root
!target-module
!target-module/main.tf
!target-module/variables.tf
!target-module/outputs.tf
!target-module/versions.tf
!target-module/terraform.tfvars.example

# Target module - examples/basic
!target-module/examples
!target-module/examples/basic
!target-module/examples/basic/main.tf
!target-module/examples/basic/outputs.tf
!target-module/examples/basic/variables.tf
!target-module/examples/basic/terraform.tfvars.example

# Target module - examples/with-ai
!target-module/examples/with-ai
!target-module/examples/with-ai/main.tf
!target-module/examples/with-ai/outputs.tf
!target-module/examples/with-ai/variables.tf
!target-module/examples/with-ai/terraform.tfvars.example

# Target module - modules/chat/telegram
!target-module/modules
!target-module/modules/chat
!target-module/modules/chat/telegram
!target-module/modules/chat/telegram/bot.tf
!target-module/modules/chat/telegram/iam.tf
!target-module/modules/chat/telegram/outputs.tf
!target-module/modules/chat/telegram/variables.tf

# Target module - modules/cicd/github
!target-module/modules/cicd
!target-module/modules/cicd/github
!target-module/modules/cicd/github/iam.tf
!target-module/modules/cicd/github/oidc.tf
!target-module/modules/cicd/github/outputs.tf
!target-module/modules/cicd/github/variables.tf

# Target module - modules/core/secrets
!target-module/modules/core
!target-module/modules/core/secrets
!target-module/modules/core/secrets/main.tf
!target-module/modules/core/secrets/outputs.tf
!target-module/modules/core/secrets/variables.tf

# Target module - modules/core/webhook-handler
!target-module/modules/core/webhook-handler
!target-module/modules/core/webhook-handler/api-gateway.tf
!target-module/modules/core/webhook-handler/iam.tf
!target-module/modules/core/webhook-handler/lambda.tf
!target-module/modules/core/webhook-handler/outputs.tf
!target-module/modules/core/webhook-handler/variables.tf

# Target module - modules-optional/ai-output-processor
!target-module/modules-optional
!target-module/modules-optional/ai-output-processor
!target-module/modules-optional/ai-output-processor/api-gateway.tf
!target-module/modules-optional/ai-output-processor/iam.tf
!target-module/modules-optional/ai-output-processor/outputs.tf
!target-module/modules-optional/ai-output-processor/processor.tf
!target-module/modules-optional/ai-output-processor/variables.tf
